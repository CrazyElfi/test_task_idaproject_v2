(window.webpackJsonp=window.webpackJsonp||[]).push([[8,2,3,4,6],{212:function(e,t,r){"use strict";r(215),r(17),r(65),r(37),r(220),r(30),r(161);var n=[{id:1,name:"Наименование товара",descr:"Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк",imgUrl:"/item-img.png",price:1e4},{id:2,name:"Звание товара",descr:"Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк",imgUrl:"/item-img.png",price:12e3},{id:3,name:"Название товара",descr:"Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк",imgUrl:"/item-img.png",price:13e3},{id:4,name:"Именование товара",descr:"Довольно-таки интересное описание товара в несколько строк. Довольно-таки интересное описание товара в несколько строк",imgUrl:"/item-img.png",price:5e3}];function o(){localStorage.items=JSON.stringify(n)}var c={getItems:function(filter){var e,t,r;return localStorage.getItem("items")&&(n=JSON.parse(localStorage.getItem("items"))),filter&&(e=filter.key,t=n,"ASC"===(r=filter.condition)&&n.sort((function(a,b){return a[e]>b[e]?1:a[e]<b[e]?-1:0})),"DESC"===r&&(console.log("typeOfSort",r),t.sort((function(a,b){return a[e]<b[e]?1:a[e]>b[e]?-1:0})))),new Promise((function(e,t){setTimeout((function(){e(n)}),1e3)}))},createItem:function(e){var t,r,c={id:(t=5,r=1e8,Math.floor(Math.random()*(r-t+1)+t)),name:e.name,descr:e.descr,imgUrl:e.imgUrl,price:Number(e.price)};n.push(c),o()},deleteItem:function(e){n.forEach((function(t,r){Number(e)===t.id&&n.splice(r,1)})),o()}};t.a=c},213:function(e,t,r){var content=r(226);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(62).default)("0325fa0e",content,!0,{sourceMap:!1})},214:function(e,t,r){var content=r(228);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(62).default)("4a6568b4",content,!0,{sourceMap:!1})},215:function(e,t,r){"use strict";var n=r(5),o=r(47),c=r(20),l=r(15),d=r(9),f=r(4),m=r(216),v=r(118),h=r(217),x=r(218),w=r(63),_=r(219),I=[],y=I.sort,N=f((function(){I.sort(void 0)})),k=f((function(){I.sort(null)})),A=v("sort"),S=!f((function(){if(w)return w<70;if(!(h&&h>3)){if(x)return!0;if(_)return _<603;var code,e,t,r,n="";for(code=65;code<76;code++){switch(e=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)I.push({k:e+r,v:t})}for(I.sort((function(a,b){return b.v-a.v})),r=0;r<I.length;r++)e=I[r].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return"DGBEFHACIJK"!==n}}));n({target:"Array",proto:!0,forced:N||!k||!A||!S},{sort:function(e){void 0!==e&&o(e);var t=c(this);if(S)return void 0===e?y.call(t):y.call(t,e);var r,n,f=[],v=l(t.length);for(n=0;n<v;n++)n in t&&f.push(t[n]);for(f=m(f,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:d(t)>d(r)?1:-1}}(e)),r=f.length,n=0;n<r;)t[n]=f[n++];for(;n<v;)delete t[n++];return t}})},216:function(e,t){var r=Math.floor,n=function(e,t){var l=e.length,d=r(l/2);return l<8?o(e,t):c(n(e.slice(0,d),t),n(e.slice(d),t),t)},o=function(e,t){for(var element,r,n=e.length,i=1;i<n;){for(r=i,element=e[i];r&&t(e[r-1],element)>0;)e[r]=e[--r];r!==i++&&(e[r]=element)}return e},c=function(e,t,r){for(var n=e.length,o=t.length,c=0,l=0,d=[];c<n||l<o;)c<n&&l<o?d.push(r(e[c],t[l])<=0?e[c++]:t[l++]):d.push(c<n?e[c++]:t[l++]);return d};e.exports=n},217:function(e,t,r){var n=r(46).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},218:function(e,t,r){var n=r(46);e.exports=/MSIE|Trident/.test(n)},219:function(e,t,r){var n=r(46).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},220:function(e,t,r){"use strict";var n=r(10),o=r(2),c=r(92),l=r(14),d=r(12),f=r(38),m=r(160),v=r(91),h=r(159),x=r(4),w=r(39),_=r(64).f,I=r(25).f,y=r(13).f,N=r(221).trim,k="Number",A=o.Number,S=A.prototype,C=f(w(S))==k,M=function(e){if(v(e))throw TypeError("Cannot convert a Symbol value to a number");var t,r,n,o,c,l,d,code,f=h(e,"number");if("string"==typeof f&&f.length>2)if(43===(t=(f=N(f)).charCodeAt(0))||45===t){if(88===(r=f.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(f.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+f}for(l=(c=f.slice(2)).length,d=0;d<l;d++)if((code=c.charCodeAt(d))<48||code>o)return NaN;return parseInt(c,n)}return+f};if(c(k,!A(" 0o1")||!A("0b1")||A("+0x1"))){for(var F,U=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof U&&(C?x((function(){S.valueOf.call(r)})):f(r)!=k)?m(new A(M(t)),r,U):M(t)},E=n?_(A):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),P=0;E.length>P;P++)d(A,F=E[P])&&!d(U,F)&&y(U,F,I(A,F));U.prototype=S,S.constructor=U,l(o,k,U)}},221:function(e,t,r){var n=r(18),o=r(9),c="["+r(222)+"]",l=RegExp("^"+c+c+"*"),d=RegExp(c+c+"*$"),f=function(e){return function(t){var r=o(n(t));return 1&e&&(r=r.replace(l,"")),2&e&&(r=r.replace(d,"")),r}};e.exports={start:f(1),end:f(2),trim:f(3)}},222:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},223:function(e,t,r){var content=r(232);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(62).default)("5a13349c",content,!0,{sourceMap:!1})},224:function(e,t,r){var content=r(234);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(62).default)("f2450b8c",content,!0,{sourceMap:!1})},225:function(e,t,r){"use strict";r(213)},226:function(e,t,r){var n=r(61)(!1);n.push([e.i,".filter[data-v-338acc5b]{margin-bottom:16px;width:100%;display:flex;justify-content:flex-end}.filter #filter-types[data-v-338acc5b]{height:36px;background:#fffefb;box-shadow:0 2px 5px rgba(0,0,0,.1);border-radius:4px;padding:10px 5px 10px 14px}.filter #filter-types[data-v-338acc5b],.filter #filter-types option[data-v-338acc5b]{font-size:12px;line-height:15px;border:none;outline:none;color:#b4b4b4}.filter #filter-types option[data-v-338acc5b]{background-color:#fffefb}",""]),e.exports=n},227:function(e,t,r){"use strict";r(214)},228:function(e,t,r){var n=r(61)(!1);n.push([e.i,".catalog[data-v-d684c6b2]{display:flex;flex-wrap:wrap;justify-content:space-between}.catalog-enter-active[data-v-d684c6b2],.catalog-leave-active[data-v-d684c6b2]{transition:all 1s}.catalog-enter[data-v-d684c6b2],.catalog-leave-to[data-v-d684c6b2]{opacity:0;transform:translateY(30px)}.catalog-move[data-v-d684c6b2]{transition:transform 1.5s}",""]),e.exports=n},229:function(e,t,r){"use strict";r.r(t);var n={name:"Filters",data:function(){return{options:[{key:"id",condition:"ASC",label:"По умолчанию"},{key:"price",condition:"ASC",label:"По цене min"},{key:"price",condition:"DESC",label:"По цене max"},{key:"name",condition:"ASC",label:"По наименованию А-Я"},{key:"name",condition:"DESC",label:"По наименованию Я-А"}],selected:0}},mounted:function(){this.updateFilter()},methods:{updateFilter:function(){console.log("emit updateFilter"),$nuxt.$emit("updateFilter",this.options[this.selected])}}},o=(r(225),r(36)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{id:"filter-types",name:"filter-types"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selected=t.target.multiple?r:r[0]},e.updateFilter]}},e._l(e.options,(function(option,t){return r("option",{key:t,domProps:{value:t}},[e._v("\n      "+e._s(option.label)+"\n    ")])})),0)])}),[],!1,null,"338acc5b",null);t.default=component.exports},230:function(e,t,r){"use strict";r.r(t);var n={name:"ItemsList",props:{items:{type:Array,required:!0}}},o=(r(227),r(36)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition-group",{staticClass:"catalog",attrs:{name:"catalog",tag:"div"}},e._l(e.items,(function(e){return r("itemCard",{key:e.id,attrs:{item:e}})})),1)}),[],!1,null,"d684c6b2",null);t.default=component.exports},231:function(e,t,r){"use strict";r(223)},232:function(e,t,r){var n=r(61)(!1);n.push([e.i,'.formAdding[data-v-505acc5e]{letter-spacing:-.02em;display:flex;flex-direction:column;background-color:#fffefb;padding:24px;margin:15px 0;width:332px;min-height:440px;box-shadow:0 20px 30px rgba(0,0,0,.04),0 6px 10px rgba(0,0,0,.02);border-radius:4px;font-style:normal;font-weight:400;font-size:10px;line-height:13px;color:#49485e}.formAdding label[data-v-505acc5e]{margin-bottom:5px;margin-top:16px;position:relative}.formAdding label[data-v-505acc5e]:first-child{margin-top:0}.formAdding label.importantRow[data-v-505acc5e]:after{position:absolute;background-image:"~@/assets/images/dot-important.png";content:"";width:4px;height:4px;top:1px;border-radius:50%}.formAdding label[for=name][data-v-505acc5e]:after{left:95px}.formAdding label[for=imgUrl][data-v-505acc5e]:after{left:135px}.formAdding label[for=price][data-v-505acc5e]:after{left:55px}.formAdding input[data-v-505acc5e],.formAdding textarea[data-v-505acc5e]{font-size:12px;line-height:15px;padding:10px 16px;font-family:"Source Sans Pro",sans-serif;color:#b4b4b4;outline:none;background-color:transparent;border-radius:4px;cursor:pointer;border:none;box-shadow:0 2px 5px rgba(0,0,0,.1)}.formAdding input[data-v-505acc5e]:focus,.formAdding textarea[data-v-505acc5e]:focus{border:1px solid #b4b4b4}.formAdding input[data-v-505acc5e]{height:36px;position:relative}#btnSubmit[data-v-505acc5e]{background:#7bae73;border-radius:10px;box-shadow:none;margin-top:25px;height:36px;color:#fff}#btnSubmit[data-v-505acc5e]:hover{background:#65d555}#btnSubmit[data-v-505acc5e]:focus{background:#3edb26}#btnSubmit[data-v-505acc5e]:disabled{background:#eee}.errorText[data-v-505acc5e]{font-size:8px;line-height:10px;letter-spacing:-.02em;color:#ff8484}#addItemBtn[data-v-505acc5e]{background:#7bae73;border-radius:10px;box-shadow:none;width:100%;border:none;height:36px;color:#fff}',""]),e.exports=n},233:function(e,t,r){"use strict";r(224)},234:function(e,t,r){var n=r(61)(!1);n.push([e.i,'.wrapper[data-v-c549f69e]{width:100%;padding:0 16px 16px;position:relative}.wrapper #spinner-wrapper[data-v-c549f69e]{height:100%;display:flex;justify-content:center;align-items:center}.lds-dual-ring[data-v-c549f69e]{display:inline-block;width:80px;height:80px}.lds-dual-ring[data-v-c549f69e]:after{content:" ";display:block;width:64px;height:64px;margin:8px;border-radius:50%;border-color:#b4b4b4 transparent;border-style:solid;border-width:6px;-webkit-animation:lds-dual-ring-data-v-c549f69e 1.2s linear infinite;animation:lds-dual-ring-data-v-c549f69e 1.2s linear infinite}@-webkit-keyframes lds-dual-ring-data-v-c549f69e{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-dual-ring-data-v-c549f69e{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}',""]),e.exports=n},237:function(e,t,r){"use strict";r.r(t);r(37),r(48),r(66),r(17),r(93),r(94),r(163),r(119),r(162);var n=r(212),o={name:"FormAddProduct",data:function(){return{name:"",descr:"",imgUrl:"",price:"",isFormHidden:!1,itemSize:null,errorPriceMsg:"",errorImgUrlMsg:"",errorNameMsg:""}},computed:{isDisabledBtn:function(){return!this.name||!this.imgUrl||!this.price},maskPrice:{get:function(){return console.log("this.price",this.price),this.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},set:function(e){console.log("old price",this.price),console.log("set",e),e=e.replace(/\s/g,""),console.log("after replace",e),console.log("validatePrice value:".concat(e," isValid: ").concat(this.isValidPrice(e))),this.isValidPrice(e),e=(e=e.match(/[0-9]/g))?e.join(""):"",console.log("after match ",e),this.price=e}}},mounted:function(){window.addEventListener("resize",this.onResize),this.onResize()},beforeUnmount:function(){window.removeEventListener("resize",this.onResize)},methods:{onResize:function(){this.itemSize=document.documentElement.clientWidth>736?this.isFormHidden=!0:this.isFormHidden=!1},validateName:function(){this.name?this.errorNameMsg=null:this.errorNameMsg="Поле является обязательным"},validateImgUrl:function(){this.imgUrl?this.errorImgUrlMsg=null:this.errorImgUrlMsg="Поле является обязательным"},isValidPrice:function(e){if(console.log("income value:",e),this.errorPriceMsg=e?null:"Поле является обязательным",this.errorPriceMsg)return!this.errorPriceMsg;var t=new RegExp(/^\d+$/).test(e);return this.errorPriceMsg=t?null:"Допустимы только цифры",!this.errorPriceMsg},createNewItem:function(e){e.preventDefault();var t={name:this.name,descr:this.descr,imgUrl:this.imgUrl,price:this.price};n.a.createItem(t),this.name="",this.descr="",this.imgUrl="",this.price="",this.addedNewItem()},addedNewItem:function(){$nuxt.$emit("addedNewItem")}}},c=(r(231),r(36)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"form-wrapper"}},[r("h2",{staticClass:"title"},[e._v("\n    Добавление товара\n  ")]),e._v(" "),e.isFormHidden?e._e():r("button",{attrs:{id:"addItemBtn"},on:{click:function(t){e.isFormHidden=!e.isFormHidden}}},[e._v("\n    +\n  ")]),e._v(" "),r("form",{directives:[{name:"show",rawName:"v-show",value:e.isFormHidden,expression:"isFormHidden"}],staticClass:"formAdding"},[r("label",{staticClass:"importantRow",attrs:{for:"name"}},[e._v("\n      Наименование товара\n    ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"name",name:"name",type:"text",placeholder:"Введите наименование товара"},domProps:{value:e.name},on:{blur:e.validateName,input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),e.errorNameMsg?r("p",{staticClass:"errorText"},[e._v("\n      "+e._s(e.errorNameMsg)+"\n    ")]):e._e(),e._v(" "),r("label",{attrs:{for:"descr"}},[e._v("Описание товара")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.descr,expression:"descr"}],attrs:{id:"descr",name:"descr",placeholder:"Введите описание товара",rows:"6"},domProps:{value:e.descr},on:{input:function(t){t.target.composing||(e.descr=t.target.value)}}}),e._v(" "),r("label",{staticClass:"importantRow",attrs:{for:"imgUrl"}},[e._v("\n      Ссылка на изображение товара\n    ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.imgUrl,expression:"imgUrl"}],attrs:{id:"imgUrl",name:"imgUrl",placeholder:"Введите ссылку"},domProps:{value:e.imgUrl},on:{blur:e.validateImgUrl,input:function(t){t.target.composing||(e.imgUrl=t.target.value)}}}),e._v(" "),e.errorImgUrlMsg?r("p",{staticClass:"errorText"},[e._v("\n      "+e._s(e.errorImgUrlMsg)+"\n    ")]):e._e(),e._v(" "),r("label",{staticClass:"importantRow",attrs:{for:"price"}},[e._v("\n      Цена товара\n    ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.maskPrice,expression:"maskPrice"}],attrs:{id:"price",name:"price",type:"text",placeholder:"Введите цену"},domProps:{value:e.maskPrice},on:{input:function(t){t.target.composing||(e.maskPrice=t.target.value)}}}),e._v(" "),e.errorPriceMsg?r("p",{staticClass:"errorText"},[e._v("\n      "+e._s(e.errorPriceMsg)+"\n    ")]):e._e(),e._v(" "),r("input",{attrs:{id:"btnSubmit",disabled:e.isDisabledBtn,type:"submit",value:"Добавить товар"},on:{click:e.createNewItem}})])])}),[],!1,null,"505acc5e",null);t.default=component.exports},238:function(e,t,r){"use strict";r.r(t);var n=r(8),o=(r(49),r(212)),c={name:"ContentBlock",data:function(){return{items:[],selectedFilter:null,isSpinning:!0}},created:function(){this.onAddedNewItem(),this.onUpdateFilter()},methods:{onUpdateFilter:function(){var e=this;this.$nuxt.$on("updateFilter",(function(filter){e.selectedFilter=filter,e.getItems()}))},onAddedNewItem:function(){this.$nuxt.$on("addedNewItem",this.getItems)},getItems:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isSpinning=!0,t.next=3,o.a.getItems(e.selectedFilter);case 3:(r=t.sent)&&(e.isSpinning=!1,e.items=r);case 5:case"end":return t.stop()}}),t)})))()}}},l=(r(233),r(36)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("Filters"),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isSpinning,expression:"isSpinning"}],attrs:{id:"spinner-wrapper"}},[r("div",{staticClass:"lds-dual-ring"})]),e._v(" "),r("ItemsList",{directives:[{name:"show",rawName:"v-show",value:!e.isSpinning,expression:"!isSpinning"}],attrs:{items:e.items}})],1)}),[],!1,null,"c549f69e",null);t.default=component.exports;installComponents(component,{Filters:r(229).default,ItemsList:r(230).default})},244:function(e,t,r){"use strict";r.r(t);var n={},o=r(36),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("FormAddProduct"),e._v(" "),r("ContentBlock")],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{FormAddProduct:r(237).default,ContentBlock:r(238).default})}}]);